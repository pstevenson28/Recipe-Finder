<ion-header>
  <ion-toolbar>
    <ion-title>{{ recipeDetail?.title }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding" *ngIf="recipeDetail">

  <img [src]="recipeDetail.image" alt="{{ recipeDetail.title }}" style="width: 100%; max-height: 250px; object-fit: cover;" />

  <h2>Ingredients</h2>
  <ion-list>
    <ion-item *ngFor="let ingredient of recipeDetail.extendedIngredients">
      <ion-label>
        {{ ingredient.original }}<br />
        <small>
          <!-- Show measurement based on setting -->
          {{ measurement === 'metric' 
            ? (ingredient.measures.metric.amount + ' ' + ingredient.measures.metric.unitLong) 
            : (ingredient.measures.us.amount + ' ' + ingredient.measures.us.unitLong)
          }}
        </small>
      </ion-label>
    </ion-item>
  </ion-list>

  <h2>Instructions</h2>
  <ion-list>
    <ion-item *ngFor="let step of recipeDetail.analyzedInstructions[0]?.steps">
      <ion-label>
        <strong>Step {{ step.number }}:</strong> {{ step.step }}
      </ion-label>
    </ion-item>
  </ion-list>

</ion-content>
